/*! fotofrafica 2015-05-05 */
function itemsExist(){var a=0;a=setInterval(function(){var b=$(".product-grid .item").length;b>0&&(clearInterval(a),$(".product-grid .item").each(function(){var a=$(this).find(".ribbon"),b=!1;a.length>0&&!b&&(a.appendTo($(this).find(".items-data")),b=!0)}),""!=localStorage.getItem("pallete")&&(setProductImgColor(localStorage.getItem("pallete")),applyColor(".product-grid .item img",".product-grid .item")))},200)}function getColor(a){var b=a.data("color");return b}function applyColor(a,b){var c,d;$(a).each(function(){c=getColor($(this)),d=lightOrDark("#"+c),$(this).closest(b).addClass("shade-"+d).css("backgroundColor","#"+c)})}function lightOrDark(a){var b,c,d,e,f=a;return f.match(/^rgb/)?(f=f.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),b=f[1],c=f[2],d=f[3]):(f=+("0x"+f.slice(1).replace(f.length<5&&/./g,"$&$&")),b=f>>16,c=f>>8&255,d=255&f),e=Math.sqrt(.299*b*b+.587*d*d+.114*c*c),e>127.5?"light":"dark"}function scrollDown(){var a=$(".product-grid").offset().top;a-=20,$("html, body").animate({scrollTop:a},650)}function changeLang(a){$.post("https://www.kichink.com/home/change_lang",{lang:a},function(){}).success(function(){location.reload()}).error(function(){alert("Hubo un error al hacer el cambio. Por favor recarga la pagina e intente de nuevo")})}function fillSlideshow(a){a.length<=1?$.each(a,function(a,b){image_html='<img class="[ single-image ]" src="'+b.bordered+'" alt="">',$(".js-images-container").append(image_html)}):$.each(a,function(a,b){image_html='<img src="'+b.bordered+'" alt="">',$(".js-images-container").append(image_html)})}function runCycle(){$(".js-cycle-slideshow").cycle({fx:"scrollHorz",centerHorz:!0,centerVert:!0,swipe:!0,timeout:0,prev:".cycle-prev",next:".cycle-next",log:!0})}function mostrarDisponibilidad(a){var b;switch(a.type){case"ava_inme":b="Disponible inmediatamente";break;case"ava_date":b="Disponible a partir de "+a.value+" d&iacute;as";break;default:b="Disponible en "+a.value+" d&iacute;as"}$(".js-disponibilidad").text(b)}function fillStoreDetails(a,b,c,d){document.title=a+" - Kichink!",$(".store-name").text(a),$(".store-description").text(b),$(".cover").css("background-image","url("+d+")"),$(".logo").attr("src",c)}function fillMenuCategories(a){$.each(a,function(a,b){var c=convertToSlug(replaceAccents(b.name)),d='<a class="[ inline-block ][ menu__item ][ js-'+c+' ]" data-category="'+c+'" href="#">'+b.name+"</a>";if($(".js-nav .overflow-holder").append(d),0==b.subcats.length)return!0;var e=' 			<div class="[ sub-nav ][ js-'+c+' ]" data-category="'+c+'"> 				<div class="[ overflow-holder ]"> 					<a href="/" class="[ inline-block ][ menu__item ][ close-menu js-close-menu ]"> 						<i class="icon-close"></i> 					</a>';$.each(b.subcats,function(a,b){e+='<a class="[ inline-block ][ menu__item ] href="#">'+b.name+"</a>"}),e+="</div></div>",$("header").append(e)})}function openSubNav(a){$(".sub-nav."+a).addClass("opened")}function closeSubNav(){$(".sub-nav").removeClass("opened")}function getUrlParameter(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}}function showColorOptions(){$(".modal-wrapper").removeClass("hide")}function setProductImgColor(a){var b=getPalleteColors(a),c=b.length,d=0,e=$(".product-grid li a");$.each(e,function(a,e){d==c&&(d=0),$(e).find("img").attr("data-color",b[d]),d++})}function getPalleteColors(a){var b=["000","fff"],c=["fc282f","0069b1","8dfdf0","35f776","fffb00"],d=["0a7ca9","63b1d6","a9fefe","fed4cc","d8696d"],e=["84bcff","738192","cae1ff","486a93","a9bdd6"],f=["fc5149","f28d67","f17a59","fc483a","a61600"];switch(a){case"classy":return b;case"neon":return c;case"pastel":return d;case"cold":return e;default:return f}}function removeDataColor(){var a=$(".product-grid li a");$.each(a,function(a,b){$(b).find("img").removeData("color")})}function closeModal(){$(".modal-wrapper").addClass("hide")}function replaceAccents(a){for(var b={"á":"a","é":"e","í":"i","ó":"o","ú":"u","Á":"A","É":"E","Í":"I","Ó":"O","Ú":"U"},c=a.split(""),d=0,e=c.length;e>d;d++)c[d]=b[c[d]]||c[d];return c.join("")}function convertToSlug(a){var b=a.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-");return b}function agregaOpcionesDeCompra(a){var b,c=[];$.each(a,function(a,d){if(d.label.indexOf(":")>-1){var e={};opciones_arr=d.label.split(":"),b=opciones_arr[0],e.talla=opciones_arr[1],e.unidades=d.units,c.push(e)}}),$(".js-modelo").text(b),crearSelectTallas(c)}function crearSelectTallas(a){var b='<select name="talla" id="talla" class="[ custom-select ][ js-tallas ]">';b+='<option data-unidades="0">Selecciona una talla</option>',$.each(a,function(a,c){b=b+'<option data-unidades="'+c.unidades+'" value="'+c.talla+'">'+c.talla+"</option>"}),b+="</select>",$(".js-select-tallas").append(b),$(".custom-select").customSelect()}function crearSelectUnidades(a){if($(".js-select-unidades").empty(),a){var b='<select name="cantidad" id="cantidad" class="[ custom-select-unidades ][ js-unidades ]">';for(i=1;a>=i;i++)b=b+'<option value="'+i+'">'+i+"</option>";b+="</select>",$(".js-select-unidades").append(b),$(".custom-select-unidades").customSelect()}}!function(a){"use strict";a(function(){})}(jQuery);